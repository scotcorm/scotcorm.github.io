<html>
<head>
<title>np_datetime.pxd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
np_datetime.pxd</font>
</center></td></tr></table>
<pre><span class="s0">from cpython.datetime cimport (</span>
    <span class="s0">date,</span>
    <span class="s0">datetime,</span>
<span class="s0">)</span>
<span class="s0">from numpy cimport (</span>
    <span class="s0">int32_t,</span>
    <span class="s0">int64_t,</span>
<span class="s0">)</span>


<span class="s0">cdef extern from &quot;numpy/ndarrayobject.h&quot;:</span>
    <span class="s0">ctypedef int64_t npy_timedelta</span>
    <span class="s0">ctypedef int64_t npy_datetime</span>

<span class="s0">cdef extern from &quot;numpy/ndarraytypes.h&quot;:</span>
    <span class="s0">ctypedef struct PyArray_DatetimeMetaData:</span>
        <span class="s0">NPY_DATETIMEUNIT base</span>
        <span class="s0">int64_t num</span>

<span class="s0">cdef extern from &quot;numpy/arrayscalars.h&quot;:</span>
    <span class="s0">ctypedef struct PyDatetimeScalarObject:</span>
        <span class="s0"># PyObject_HEAD</span>
        <span class="s0">npy_datetime obval</span>
        <span class="s0">PyArray_DatetimeMetaData obmeta</span>

    <span class="s0">ctypedef struct PyTimedeltaScalarObject:</span>
        <span class="s0"># PyObject_HEAD</span>
        <span class="s0">npy_timedelta obval</span>
        <span class="s0">PyArray_DatetimeMetaData obmeta</span>

<span class="s0">cdef extern from &quot;numpy/ndarraytypes.h&quot;:</span>
    <span class="s0">ctypedef struct npy_datetimestruct:</span>
        <span class="s0">int64_t year</span>
        <span class="s0">int32_t month, day, hour, min, sec, us, ps, as</span>

    <span class="s0">ctypedef enum NPY_DATETIMEUNIT:</span>
        <span class="s0">NPY_FR_Y</span>
        <span class="s0">NPY_FR_M</span>
        <span class="s0">NPY_FR_W</span>
        <span class="s0">NPY_FR_D</span>
        <span class="s0">NPY_FR_B</span>
        <span class="s0">NPY_FR_h</span>
        <span class="s0">NPY_FR_m</span>
        <span class="s0">NPY_FR_s</span>
        <span class="s0">NPY_FR_ms</span>
        <span class="s0">NPY_FR_us</span>
        <span class="s0">NPY_FR_ns</span>
        <span class="s0">NPY_FR_ps</span>
        <span class="s0">NPY_FR_fs</span>
        <span class="s0">NPY_FR_as</span>
        <span class="s0">NPY_FR_GENERIC</span>

<span class="s0">cdef extern from &quot;src/datetime/np_datetime.h&quot;:</span>
    <span class="s0">ctypedef struct pandas_timedeltastruct:</span>
        <span class="s0">int64_t days</span>
        <span class="s0">int32_t hrs, min, sec, ms, us, ns, seconds, microseconds, nanoseconds</span>

    <span class="s0">void pandas_datetime_to_datetimestruct(npy_datetime val,</span>
                                           <span class="s0">NPY_DATETIMEUNIT fr,</span>
                                           <span class="s0">npy_datetimestruct *result) nogil</span>


<span class="s0">cdef bint cmp_scalar(int64_t lhs, int64_t rhs, int op) except -1</span>

<span class="s0">cdef check_dts_bounds(npy_datetimestruct *dts)</span>

<span class="s0">cdef int64_t dtstruct_to_dt64(npy_datetimestruct* dts) nogil</span>
<span class="s0">cdef void dt64_to_dtstruct(int64_t dt64, npy_datetimestruct* out) nogil</span>
<span class="s0">cdef void td64_to_tdstruct(int64_t td64, pandas_timedeltastruct* out) nogil</span>

<span class="s0">cdef int64_t pydatetime_to_dt64(datetime val, npy_datetimestruct *dts)</span>
<span class="s0">cdef int64_t pydate_to_dt64(date val, npy_datetimestruct *dts)</span>
<span class="s0">cdef void pydate_to_dtstruct(date val, npy_datetimestruct *dts)</span>

<span class="s0">cdef npy_datetime get_datetime64_value(object obj) nogil</span>
<span class="s0">cdef npy_timedelta get_timedelta64_value(object obj) nogil</span>
<span class="s0">cdef NPY_DATETIMEUNIT get_datetime64_unit(object obj) nogil</span>

<span class="s0">cdef int _string_to_dts(str val, npy_datetimestruct* dts,</span>
                        <span class="s0">int* out_local, int* out_tzoffset,</span>
                        <span class="s0">bint want_exc) except? -1</span>
</pre>
</body>
</html>