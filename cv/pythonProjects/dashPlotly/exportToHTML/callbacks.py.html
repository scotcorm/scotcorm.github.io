<html>
<head>
<title>callbacks.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #629755; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
callbacks.py</font>
</center></td></tr></table>
<pre><span class="s0">from </span><span class="s1">__future__ </span><span class="s0">import </span><span class="s1">absolute_import</span>
<span class="s0">from </span><span class="s1">plotly.utils </span><span class="s0">import </span><span class="s1">_list_repr_elided</span>


<span class="s0">class </span><span class="s1">InputDeviceState:</span>
    <span class="s0">def </span><span class="s1">__init__(</span>
        <span class="s1">self</span><span class="s0">, </span><span class="s1">ctrl=</span><span class="s0">None, </span><span class="s1">alt=</span><span class="s0">None, </span><span class="s1">shift=</span><span class="s0">None, </span><span class="s1">meta=</span><span class="s0">None, </span><span class="s1">button=</span><span class="s0">None, </span><span class="s1">buttons=</span><span class="s0">None, </span><span class="s1">**_</span>
    <span class="s1">):</span>

        <span class="s1">self._ctrl = ctrl</span>
        <span class="s1">self._alt = alt</span>
        <span class="s1">self._meta = meta</span>
        <span class="s1">self._shift = shift</span>
        <span class="s1">self._button = button</span>
        <span class="s1">self._buttons = buttons</span>

    <span class="s0">def </span><span class="s1">__repr__(self):</span>
        <span class="s0">return </span><span class="s2">&quot;&quot;&quot;</span><span class="s0">\ 
</span><span class="s2">InputDeviceState( 
    ctrl={ctrl},  
    alt={alt},  
    shift={shift},  
    meta={meta},  
    button={button},  
    buttons={buttons})&quot;&quot;&quot;</span><span class="s1">.format(</span>
            <span class="s1">ctrl=repr(self.ctrl)</span><span class="s0">,</span>
            <span class="s1">alt=repr(self.alt)</span><span class="s0">,</span>
            <span class="s1">meta=repr(self.meta)</span><span class="s0">,</span>
            <span class="s1">shift=repr(self.shift)</span><span class="s0">,</span>
            <span class="s1">button=repr(self.button)</span><span class="s0">,</span>
            <span class="s1">buttons=repr(self.buttons)</span><span class="s0">,</span>
        <span class="s1">)</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">alt(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        Whether alt key pressed 
 
        Returns 
        ------- 
        bool 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._alt</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">ctrl(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        Whether ctrl key pressed 
 
        Returns 
        ------- 
        bool 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._ctrl</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">shift(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        Whether shift key pressed 
 
        Returns 
        ------- 
        bool 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._shift</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">meta(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        Whether meta key pressed 
 
        Returns 
        ------- 
        bool 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._meta</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">button(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        Integer code for the button that was pressed on the mouse to trigger 
        the event 
 
        - 0: Main button pressed, usually the left button or the 
             un-initialized state 
        - 1: Auxiliary button pressed, usually the wheel button or the middle 
             button (if present) 
        - 2: Secondary button pressed, usually the right button 
        - 3: Fourth button, typically the Browser Back button 
        - 4: Fifth button, typically the Browser Forward button 
 
        Returns 
        ------- 
        int 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._button</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">buttons(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        Integer code for which combination of buttons are pressed on the 
        mouse when the event is triggered. 
 
        -  0: No button or un-initialized 
        -  1: Primary button (usually left) 
        -  2: Secondary button (usually right) 
        -  4: Auxilary button (usually middle or mouse wheel button) 
        -  8: 4th button (typically the &quot;Browser Back&quot; button) 
        - 16: 5th button (typically the &quot;Browser Forward&quot; button) 
 
        Combinations of buttons are represented as the decimal form of the 
        bitmask of the values above. 
 
        For example, pressing both the primary (1) and auxilary (4) buttons 
        will result in a code of 5 
 
        Returns 
        ------- 
        int 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._buttons</span>


<span class="s0">class </span><span class="s1">Points:</span>
    <span class="s0">def </span><span class="s1">__init__(self</span><span class="s0">, </span><span class="s1">point_inds=[]</span><span class="s0">, </span><span class="s1">xs=[]</span><span class="s0">, </span><span class="s1">ys=[]</span><span class="s0">, </span><span class="s1">trace_name=</span><span class="s0">None, </span><span class="s1">trace_index=</span><span class="s0">None</span><span class="s1">):</span>

        <span class="s1">self._point_inds = point_inds</span>
        <span class="s1">self._xs = xs</span>
        <span class="s1">self._ys = ys</span>
        <span class="s1">self._trace_name = trace_name</span>
        <span class="s1">self._trace_index = trace_index</span>

    <span class="s0">def </span><span class="s1">__repr__(self):</span>
        <span class="s0">return </span><span class="s2">&quot;&quot;&quot;</span><span class="s0">\ 
</span><span class="s2">Points(point_inds={point_inds}, 
       xs={xs}, 
       ys={ys}, 
       trace_name={trace_name}, 
       trace_index={trace_index})&quot;&quot;&quot;</span><span class="s1">.format(</span>
            <span class="s1">point_inds=_list_repr_elided(</span>
                <span class="s1">self.point_inds</span><span class="s0">, </span><span class="s1">indent=len(</span><span class="s2">&quot;Points(point_inds=&quot;</span><span class="s1">)</span>
            <span class="s1">)</span><span class="s0">,</span>
            <span class="s1">xs=_list_repr_elided(self.xs</span><span class="s0">, </span><span class="s1">indent=len(</span><span class="s2">&quot;       xs=&quot;</span><span class="s1">))</span><span class="s0">,</span>
            <span class="s1">ys=_list_repr_elided(self.ys</span><span class="s0">, </span><span class="s1">indent=len(</span><span class="s2">&quot;       ys=&quot;</span><span class="s1">))</span><span class="s0">,</span>
            <span class="s1">trace_name=repr(self.trace_name)</span><span class="s0">,</span>
            <span class="s1">trace_index=repr(self.trace_index)</span><span class="s0">,</span>
        <span class="s1">)</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">point_inds(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        List of selected indexes into the trace's points 
 
        Returns 
        ------- 
        list[int] 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._point_inds</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">xs(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        List of x-coordinates of selected points 
 
        Returns 
        ------- 
        list[float] 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._xs</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">ys(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        List of y-coordinates of selected points 
 
        Returns 
        ------- 
        list[float] 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._ys</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">trace_name(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        Name of the trace 
 
        Returns 
        ------- 
        str 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._trace_name</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">trace_index(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        Index of the trace in the figure 
 
        Returns 
        ------- 
        int 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._trace_index</span>


<span class="s0">class </span><span class="s1">BoxSelector:</span>
    <span class="s0">def </span><span class="s1">__init__(self</span><span class="s0">, </span><span class="s1">xrange=</span><span class="s0">None, </span><span class="s1">yrange=</span><span class="s0">None, </span><span class="s1">**_):</span>
        <span class="s1">self._type = </span><span class="s2">&quot;box&quot;</span>
        <span class="s1">self._xrange = xrange</span>
        <span class="s1">self._yrange = yrange</span>

    <span class="s0">def </span><span class="s1">__repr__(self):</span>
        <span class="s0">return </span><span class="s2">&quot;&quot;&quot;</span><span class="s0">\ 
</span><span class="s2">BoxSelector(xrange={xrange}, 
            yrange={yrange})&quot;&quot;&quot;</span><span class="s1">.format(</span>
            <span class="s1">xrange=self.xrange</span><span class="s0">, </span><span class="s1">yrange=self.yrange</span>
        <span class="s1">)</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">type(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        The selector's type 
 
        Returns 
        ------- 
        str 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._type</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">xrange(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        x-axis range extents of the box selection 
 
        Returns 
        ------- 
        (float, float) 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._xrange</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">yrange(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        y-axis range extents of the box selection 
 
        Returns 
        ------- 
        (float, float) 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._yrange</span>


<span class="s0">class </span><span class="s1">LassoSelector:</span>
    <span class="s0">def </span><span class="s1">__init__(self</span><span class="s0">, </span><span class="s1">xs=</span><span class="s0">None, </span><span class="s1">ys=</span><span class="s0">None, </span><span class="s1">**_):</span>
        <span class="s1">self._type = </span><span class="s2">&quot;lasso&quot;</span>
        <span class="s1">self._xs = xs</span>
        <span class="s1">self._ys = ys</span>

    <span class="s0">def </span><span class="s1">__repr__(self):</span>
        <span class="s0">return </span><span class="s2">&quot;&quot;&quot;</span><span class="s0">\ 
</span><span class="s2">LassoSelector(xs={xs}, 
              ys={ys})&quot;&quot;&quot;</span><span class="s1">.format(</span>
            <span class="s1">xs=_list_repr_elided(self.xs</span><span class="s0">, </span><span class="s1">indent=len(</span><span class="s2">&quot;LassoSelector(xs=&quot;</span><span class="s1">))</span><span class="s0">,</span>
            <span class="s1">ys=_list_repr_elided(self.ys</span><span class="s0">, </span><span class="s1">indent=len(</span><span class="s2">&quot;              ys=&quot;</span><span class="s1">))</span><span class="s0">,</span>
        <span class="s1">)</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">type(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        The selector's type 
 
        Returns 
        ------- 
        str 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._type</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">xs(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        list of x-axis coordinates of each point in the lasso selection 
        boundary 
 
        Returns 
        ------- 
        list[float] 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._xs</span>

    <span class="s1">@property</span>
    <span class="s0">def </span><span class="s1">ys(self):</span>
        <span class="s3">&quot;&quot;&quot; 
        list of y-axis coordinates of each point in the lasso selection 
        boundary 
 
        Returns 
        ------- 
        list[float] 
        &quot;&quot;&quot;</span>
        <span class="s0">return </span><span class="s1">self._ys</span>
</pre>
</body>
</html>