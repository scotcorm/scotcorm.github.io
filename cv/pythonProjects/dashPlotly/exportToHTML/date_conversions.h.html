<html>
<head>
<title>date_conversions.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
date_conversions.h</font>
</center></td></tr></table>
<pre><span class="s0">/* 
Copyright (c) 2020, PyData Development Team 
All rights reserved. 
Distributed under the terms of the BSD Simplified License. 
The full license is in the LICENSE file, distributed with this software. 
*/</span>

<span class="s2">#ifndef </span><span class="s1">PANDAS__LIBS_SRC_UJSON_PYTHON_DATE_CONVERSIONS_H_</span>
<span class="s2">#define </span><span class="s1">PANDAS__LIBS_SRC_UJSON_PYTHON_DATE_CONVERSIONS_H_</span>

<span class="s2">#define </span><span class="s1">PY_SSIZE_T_CLEAN</span>
<span class="s2">#include </span><span class="s1">&lt;Python.h&gt;</span>
<span class="s2">#include </span><span class="s1">&lt;numpy/ndarraytypes.h&gt;</span>

<span class="s0">// Scales value inplace from nanosecond resolution to unit resolution</span>
<span class="s2">int </span><span class="s1">scaleNanosecToUnit(npy_int64 *value, NPY_DATETIMEUNIT unit);</span>

<span class="s0">// Converts an int64 object representing a date to ISO format</span>
<span class="s0">// up to precision `base` e.g. base=&quot;s&quot; yields 2020-01-03T00:00:00Z</span>
<span class="s0">// while base=&quot;ns&quot; yields &quot;2020-01-01T00:00:00.000000000Z&quot;</span>
<span class="s0">// len is mutated to save the length of the returned string</span>
<span class="s2">char </span><span class="s1">*int64ToIso(int64_t value, NPY_DATETIMEUNIT base, size_t *len);</span>

<span class="s0">// TODO(username): this function doesn't do a lot; should augment or</span>
<span class="s0">// replace with scaleNanosecToUnit</span>
<span class="s1">npy_datetime NpyDateTimeToEpoch(npy_datetime dt, NPY_DATETIMEUNIT base);</span>

<span class="s0">// Converts a Python object representing a Date / Datetime to ISO format</span>
<span class="s0">// up to precision `base` e.g. base=&quot;s&quot; yields 2020-01-03T00:00:00Z</span>
<span class="s0">// while base=&quot;ns&quot; yields &quot;2020-01-01T00:00:00.000000000Z&quot;</span>
<span class="s0">// len is mutated to save the length of the returned string</span>
<span class="s2">char </span><span class="s1">*PyDateTimeToIso(PyObject *obj, NPY_DATETIMEUNIT base, size_t *len);</span>

<span class="s0">// Convert a Python Date/Datetime to Unix epoch with resolution base</span>
<span class="s1">npy_datetime PyDateTimeToEpoch(PyObject *dt, NPY_DATETIMEUNIT base);</span>

<span class="s2">char </span><span class="s1">*int64ToIsoDuration(int64_t value, size_t *len);</span>

<span class="s2">#endif  </span><span class="s0">// PANDAS__LIBS_SRC_UJSON_PYTHON_DATE_CONVERSIONS_H_</span>
</pre>
</body>
</html>