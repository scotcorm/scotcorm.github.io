<html>
<head>
<title>test_matplotlib.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #6897bb;}
.s4 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
test_matplotlib.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">numpy </span><span class="s0">as </span><span class="s1">np</span>
<span class="s0">import </span><span class="s1">pytest</span>

<span class="s0">from </span><span class="s1">pandas </span><span class="s0">import </span><span class="s1">(</span>
    <span class="s1">DataFrame</span><span class="s0">,</span>
    <span class="s1">IndexSlice</span><span class="s0">,</span>
    <span class="s1">Series</span><span class="s0">,</span>
<span class="s1">)</span>

<span class="s1">pytest.importorskip(</span><span class="s2">&quot;matplotlib&quot;</span><span class="s1">)</span>
<span class="s1">pytest.importorskip(</span><span class="s2">&quot;jinja2&quot;</span><span class="s1">)</span>

<span class="s0">import </span><span class="s1">matplotlib </span><span class="s0">as </span><span class="s1">mpl</span>

<span class="s0">from </span><span class="s1">pandas.io.formats.style </span><span class="s0">import </span><span class="s1">Styler</span>


<span class="s1">@pytest.fixture</span>
<span class="s0">def </span><span class="s1">df():</span>
    <span class="s0">return </span><span class="s1">DataFrame([[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">4</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;A&quot;</span><span class="s0">, </span><span class="s2">&quot;B&quot;</span><span class="s1">])</span>


<span class="s1">@pytest.fixture</span>
<span class="s0">def </span><span class="s1">styler(df):</span>
    <span class="s0">return </span><span class="s1">Styler(df</span><span class="s0">, </span><span class="s1">uuid_len=</span><span class="s3">0</span><span class="s1">)</span>


<span class="s1">@pytest.fixture</span>
<span class="s0">def </span><span class="s1">df_blank():</span>
    <span class="s0">return </span><span class="s1">DataFrame([[</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;A&quot;</span><span class="s0">, </span><span class="s2">&quot;B&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s2">&quot;Y&quot;</span><span class="s1">])</span>


<span class="s1">@pytest.fixture</span>
<span class="s0">def </span><span class="s1">styler_blank(df_blank):</span>
    <span class="s0">return </span><span class="s1">Styler(df_blank</span><span class="s0">, </span><span class="s1">uuid_len=</span><span class="s3">0</span><span class="s1">)</span>


<span class="s1">@pytest.mark.parametrize(</span><span class="s2">&quot;f&quot;</span><span class="s0">, </span><span class="s1">[</span><span class="s2">&quot;background_gradient&quot;</span><span class="s0">, </span><span class="s2">&quot;text_gradient&quot;</span><span class="s1">])</span>
<span class="s0">def </span><span class="s1">test_function_gradient(styler</span><span class="s0">, </span><span class="s1">f):</span>
    <span class="s0">for </span><span class="s1">c_map </span><span class="s0">in </span><span class="s1">[</span><span class="s0">None, </span><span class="s2">&quot;YlOrRd&quot;</span><span class="s1">]:</span>
        <span class="s1">result = getattr(styler</span><span class="s0">, </span><span class="s1">f)(cmap=c_map)._compute().ctx</span>
        <span class="s0">assert </span><span class="s1">all(</span><span class="s2">&quot;#&quot; </span><span class="s0">in </span><span class="s1">x[</span><span class="s3">0</span><span class="s1">][</span><span class="s3">1</span><span class="s1">] </span><span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">result.values())</span>
        <span class="s0">assert </span><span class="s1">result[(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == result[(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">1</span><span class="s1">)]</span>
        <span class="s0">assert </span><span class="s1">result[(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == result[(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">1</span><span class="s1">)]</span>


<span class="s1">@pytest.mark.parametrize(</span><span class="s2">&quot;f&quot;</span><span class="s0">, </span><span class="s1">[</span><span class="s2">&quot;background_gradient&quot;</span><span class="s0">, </span><span class="s2">&quot;text_gradient&quot;</span><span class="s1">])</span>
<span class="s0">def </span><span class="s1">test_background_gradient_color(styler</span><span class="s0">, </span><span class="s1">f):</span>
    <span class="s1">result = getattr(styler</span><span class="s0">, </span><span class="s1">f)(subset=IndexSlice[</span><span class="s3">1</span><span class="s0">, </span><span class="s2">&quot;A&quot;</span><span class="s1">])._compute().ctx</span>
    <span class="s0">if </span><span class="s1">f == </span><span class="s2">&quot;background_gradient&quot;</span><span class="s1">:</span>
        <span class="s0">assert </span><span class="s1">result[(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fff7fb&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span>
    <span class="s0">elif </span><span class="s1">f == </span><span class="s2">&quot;text_gradient&quot;</span><span class="s1">:</span>
        <span class="s0">assert </span><span class="s1">result[(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == [(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fff7fb&quot;</span><span class="s1">)]</span>


<span class="s1">@pytest.mark.parametrize(</span>
    <span class="s2">&quot;axis, expected&quot;</span><span class="s0">,</span>
    <span class="s1">[</span>
        <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s1">[</span><span class="s2">&quot;low&quot;</span><span class="s0">, </span><span class="s2">&quot;low&quot;</span><span class="s0">, </span><span class="s2">&quot;high&quot;</span><span class="s0">, </span><span class="s2">&quot;high&quot;</span><span class="s1">])</span><span class="s0">,</span>
        <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s1">[</span><span class="s2">&quot;low&quot;</span><span class="s0">, </span><span class="s2">&quot;high&quot;</span><span class="s0">, </span><span class="s2">&quot;low&quot;</span><span class="s0">, </span><span class="s2">&quot;high&quot;</span><span class="s1">])</span><span class="s0">,</span>
        <span class="s1">(</span><span class="s0">None, </span><span class="s1">[</span><span class="s2">&quot;low&quot;</span><span class="s0">, </span><span class="s2">&quot;mid&quot;</span><span class="s0">, </span><span class="s2">&quot;mid&quot;</span><span class="s0">, </span><span class="s2">&quot;high&quot;</span><span class="s1">])</span><span class="s0">,</span>
    <span class="s1">]</span><span class="s0">,</span>
<span class="s1">)</span>
<span class="s1">@pytest.mark.parametrize(</span><span class="s2">&quot;f&quot;</span><span class="s0">, </span><span class="s1">[</span><span class="s2">&quot;background_gradient&quot;</span><span class="s0">, </span><span class="s2">&quot;text_gradient&quot;</span><span class="s1">])</span>
<span class="s0">def </span><span class="s1">test_background_gradient_axis(styler</span><span class="s0">, </span><span class="s1">axis</span><span class="s0">, </span><span class="s1">expected</span><span class="s0">, </span><span class="s1">f):</span>
    <span class="s0">if </span><span class="s1">f == </span><span class="s2">&quot;background_gradient&quot;</span><span class="s1">:</span>
        <span class="s1">colors = {</span>
            <span class="s2">&quot;low&quot;</span><span class="s1">: [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f7fbff&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s2">&quot;mid&quot;</span><span class="s1">: [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#abd0e6&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s2">&quot;high&quot;</span><span class="s1">: [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#08306b&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
        <span class="s1">}</span>
    <span class="s0">elif </span><span class="s1">f == </span><span class="s2">&quot;text_gradient&quot;</span><span class="s1">:</span>
        <span class="s1">colors = {</span>
            <span class="s2">&quot;low&quot;</span><span class="s1">: [(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f7fbff&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s2">&quot;mid&quot;</span><span class="s1">: [(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#abd0e6&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s2">&quot;high&quot;</span><span class="s1">: [(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#08306b&quot;</span><span class="s1">)]</span><span class="s0">,</span>
        <span class="s1">}</span>
    <span class="s1">result = getattr(styler</span><span class="s0">, </span><span class="s1">f)(cmap=</span><span class="s2">&quot;Blues&quot;</span><span class="s0">, </span><span class="s1">axis=axis)._compute().ctx</span>
    <span class="s0">for </span><span class="s1">i</span><span class="s0">, </span><span class="s1">cell </span><span class="s0">in </span><span class="s1">enumerate([(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">1</span><span class="s1">)]):</span>
        <span class="s0">assert </span><span class="s1">result[cell] == colors[expected[i]]</span>


<span class="s1">@pytest.mark.parametrize(</span>
    <span class="s2">&quot;cmap, expected&quot;</span><span class="s0">,</span>
    <span class="s1">[</span>
        <span class="s1">(</span>
            <span class="s2">&quot;PuBu&quot;</span><span class="s0">,</span>
            <span class="s1">{</span>
                <span class="s1">(</span><span class="s3">4</span><span class="s0">, </span><span class="s3">5</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#86b0d3&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">4</span><span class="s0">, </span><span class="s3">6</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#83afd3&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s1">}</span><span class="s0">,</span>
        <span class="s1">)</span><span class="s0">,</span>
        <span class="s1">(</span>
            <span class="s2">&quot;YlOrRd&quot;</span><span class="s0">,</span>
            <span class="s1">{</span>
                <span class="s1">(</span><span class="s3">4</span><span class="s0">, </span><span class="s3">8</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fd913e&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">4</span><span class="s0">, </span><span class="s3">9</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fd8f3d&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s1">}</span><span class="s0">,</span>
        <span class="s1">)</span><span class="s0">,</span>
        <span class="s1">(</span>
            <span class="s0">None,</span>
            <span class="s1">{</span>
                <span class="s1">(</span><span class="s3">7</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#48c16e&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">7</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#4cc26c&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s1">}</span><span class="s0">,</span>
        <span class="s1">)</span><span class="s0">,</span>
    <span class="s1">]</span><span class="s0">,</span>
<span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_text_color_threshold(cmap</span><span class="s0">, </span><span class="s1">expected):</span>
    <span class="s4"># GH 39888</span>
    <span class="s1">df = DataFrame(np.arange(</span><span class="s3">100</span><span class="s1">).reshape(</span><span class="s3">10</span><span class="s0">, </span><span class="s3">10</span><span class="s1">))</span>
    <span class="s1">result = df.style.background_gradient(cmap=cmap</span><span class="s0">, </span><span class="s1">axis=</span><span class="s0">None</span><span class="s1">)._compute().ctx</span>
    <span class="s0">for </span><span class="s1">k </span><span class="s0">in </span><span class="s1">expected.keys():</span>
        <span class="s0">assert </span><span class="s1">result[k] == expected[k]</span>


<span class="s0">def </span><span class="s1">test_background_gradient_vmin_vmax():</span>
    <span class="s4"># GH 12145</span>
    <span class="s1">df = DataFrame(range(</span><span class="s3">5</span><span class="s1">))</span>
    <span class="s1">ctx = df.style.background_gradient(vmin=</span><span class="s3">1</span><span class="s0">, </span><span class="s1">vmax=</span><span class="s3">3</span><span class="s1">)._compute().ctx</span>
    <span class="s0">assert </span><span class="s1">ctx[(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == ctx[(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)]</span>
    <span class="s0">assert </span><span class="s1">ctx[(</span><span class="s3">4</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == ctx[(</span><span class="s3">3</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)]</span>


<span class="s0">def </span><span class="s1">test_background_gradient_int64():</span>
    <span class="s4"># GH 28869</span>
    <span class="s1">df1 = Series(range(</span><span class="s3">3</span><span class="s1">)).to_frame()</span>
    <span class="s1">df2 = Series(range(</span><span class="s3">3</span><span class="s1">)</span><span class="s0">, </span><span class="s1">dtype=</span><span class="s2">&quot;Int64&quot;</span><span class="s1">).to_frame()</span>
    <span class="s1">ctx1 = df1.style.background_gradient()._compute().ctx</span>
    <span class="s1">ctx2 = df2.style.background_gradient()._compute().ctx</span>
    <span class="s0">assert </span><span class="s1">ctx2[(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == ctx1[(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)]</span>
    <span class="s0">assert </span><span class="s1">ctx2[(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == ctx1[(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)]</span>
    <span class="s0">assert </span><span class="s1">ctx2[(</span><span class="s3">2</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)] == ctx1[(</span><span class="s3">2</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)]</span>


<span class="s1">@pytest.mark.parametrize(</span>
    <span class="s2">&quot;axis, gmap, expected&quot;</span><span class="s0">,</span>
    <span class="s1">[</span>
        <span class="s1">(</span>
            <span class="s3">0</span><span class="s0">,</span>
            <span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">,</span>
            <span class="s1">{</span>
                <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fff7fb&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#023858&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fff7fb&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#023858&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s1">}</span><span class="s0">,</span>
        <span class="s1">)</span><span class="s0">,</span>
        <span class="s1">(</span>
            <span class="s3">1</span><span class="s0">,</span>
            <span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">,</span>
            <span class="s1">{</span>
                <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fff7fb&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fff7fb&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#023858&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#023858&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s1">}</span><span class="s0">,</span>
        <span class="s1">)</span><span class="s0">,</span>
        <span class="s1">(</span>
            <span class="s0">None,</span>
            <span class="s1">np.array([[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,</span>
            <span class="s1">{</span>
                <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#023858&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fff7fb&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#fff7fb&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#000000&quot;</span><span class="s1">)]</span><span class="s0">,</span>
                <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): [(</span><span class="s2">&quot;background-color&quot;</span><span class="s0">, </span><span class="s2">&quot;#023858&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">&quot;color&quot;</span><span class="s0">, </span><span class="s2">&quot;#f1f1f1&quot;</span><span class="s1">)]</span><span class="s0">,</span>
            <span class="s1">}</span><span class="s0">,</span>
        <span class="s1">)</span><span class="s0">,</span>
    <span class="s1">]</span><span class="s0">,</span>
<span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_background_gradient_gmap_array(styler_blank</span><span class="s0">, </span><span class="s1">axis</span><span class="s0">, </span><span class="s1">gmap</span><span class="s0">, </span><span class="s1">expected):</span>
    <span class="s4"># tests when gmap is given as a sequence and converted to ndarray</span>
    <span class="s1">result = styler_blank.background_gradient(axis=axis</span><span class="s0">, </span><span class="s1">gmap=gmap)._compute().ctx</span>
    <span class="s0">assert </span><span class="s1">result == expected</span>


<span class="s1">@pytest.mark.parametrize(</span>
    <span class="s2">&quot;gmap, axis&quot;</span><span class="s0">, </span><span class="s1">[([</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s0">, </span><span class="s3">3</span><span class="s1">]</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)</span><span class="s0">, </span><span class="s1">([</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s3">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(np.array([[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">, None</span><span class="s1">)]</span>
<span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_background_gradient_gmap_array_raises(gmap</span><span class="s0">, </span><span class="s1">axis):</span>
    <span class="s4"># test when gmap as converted ndarray is bad shape</span>
    <span class="s1">df = DataFrame([[</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">]])</span>
    <span class="s1">msg = </span><span class="s2">&quot;supplied 'gmap' is not correct shape&quot;</span>
    <span class="s0">with </span><span class="s1">pytest.raises(ValueError</span><span class="s0">, </span><span class="s1">match=msg):</span>
        <span class="s1">df.style.background_gradient(gmap=gmap</span><span class="s0">, </span><span class="s1">axis=axis)._compute()</span>


<span class="s1">@pytest.mark.parametrize(</span>
    <span class="s2">&quot;gmap&quot;</span><span class="s0">,</span>
    <span class="s1">[</span>
        <span class="s1">DataFrame(  </span><span class="s4"># reverse the columns</span>
            <span class="s1">[[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;B&quot;</span><span class="s0">, </span><span class="s2">&quot;A&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s2">&quot;Y&quot;</span><span class="s1">]</span>
        <span class="s1">)</span><span class="s0">,</span>
        <span class="s1">DataFrame(  </span><span class="s4"># reverse the index</span>
            <span class="s1">[[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;A&quot;</span><span class="s0">, </span><span class="s2">&quot;B&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;Y&quot;</span><span class="s0">, </span><span class="s2">&quot;X&quot;</span><span class="s1">]</span>
        <span class="s1">)</span><span class="s0">,</span>
        <span class="s1">DataFrame(  </span><span class="s4"># reverse the index and columns</span>
            <span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;B&quot;</span><span class="s0">, </span><span class="s2">&quot;A&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;Y&quot;</span><span class="s0">, </span><span class="s2">&quot;X&quot;</span><span class="s1">]</span>
        <span class="s1">)</span><span class="s0">,</span>
        <span class="s1">DataFrame(  </span><span class="s4"># add unnecessary columns</span>
            <span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s0">, </span><span class="s3">3</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s0">, </span><span class="s3">3</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;A&quot;</span><span class="s0">, </span><span class="s2">&quot;B&quot;</span><span class="s0">, </span><span class="s2">&quot;C&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s2">&quot;Y&quot;</span><span class="s1">]</span>
        <span class="s1">)</span><span class="s0">,</span>
        <span class="s1">DataFrame(  </span><span class="s4"># add unnecessary index</span>
            <span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">3</span><span class="s0">, </span><span class="s3">3</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;A&quot;</span><span class="s0">, </span><span class="s2">&quot;B&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s2">&quot;Y&quot;</span><span class="s0">, </span><span class="s2">&quot;Z&quot;</span><span class="s1">]</span>
        <span class="s1">)</span><span class="s0">,</span>
    <span class="s1">]</span><span class="s0">,</span>
<span class="s1">)</span>
<span class="s1">@pytest.mark.parametrize(</span>
    <span class="s2">&quot;subset, exp_gmap&quot;</span><span class="s0">,  </span><span class="s4"># exp_gmap is underlying map DataFrame should conform to</span>
    <span class="s1">[</span>
        <span class="s1">(</span><span class="s0">None, </span><span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]])</span><span class="s0">,</span>
        <span class="s1">([</span><span class="s2">&quot;A&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[[</span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,  </span><span class="s4"># slice only column &quot;A&quot; in data and gmap</span>
        <span class="s1">([</span><span class="s2">&quot;B&quot;</span><span class="s0">, </span><span class="s2">&quot;A&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,  </span><span class="s4"># reverse the columns in data</span>
        <span class="s1">(IndexSlice[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s1">:]</span><span class="s0">, </span><span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,  </span><span class="s4"># slice only index &quot;X&quot; in data and gmap</span>
        <span class="s1">(IndexSlice[[</span><span class="s2">&quot;Y&quot;</span><span class="s0">, </span><span class="s2">&quot;X&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">:]</span><span class="s0">, </span><span class="s1">[[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,  </span><span class="s4"># reverse the index in data</span>
    <span class="s1">]</span><span class="s0">,</span>
<span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_background_gradient_gmap_dataframe_align(styler_blank</span><span class="s0">, </span><span class="s1">gmap</span><span class="s0">, </span><span class="s1">subset</span><span class="s0">, </span><span class="s1">exp_gmap):</span>
    <span class="s4"># test gmap given as DataFrame that it aligns to the the data including subset</span>
    <span class="s1">expected = styler_blank.background_gradient(axis=</span><span class="s0">None, </span><span class="s1">gmap=exp_gmap</span><span class="s0">, </span><span class="s1">subset=subset)</span>
    <span class="s1">result = styler_blank.background_gradient(axis=</span><span class="s0">None, </span><span class="s1">gmap=gmap</span><span class="s0">, </span><span class="s1">subset=subset)</span>
    <span class="s0">assert </span><span class="s1">expected._compute().ctx == result._compute().ctx</span>


<span class="s1">@pytest.mark.parametrize(</span>
    <span class="s2">&quot;gmap, axis, exp_gmap&quot;</span><span class="s0">,</span>
    <span class="s1">[</span>
        <span class="s1">(Series([</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;Y&quot;</span><span class="s0">, </span><span class="s2">&quot;X&quot;</span><span class="s1">])</span><span class="s0">, </span><span class="s3">0</span><span class="s0">, </span><span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,  </span><span class="s4"># revrse the index</span>
        <span class="s1">(Series([</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;B&quot;</span><span class="s0">, </span><span class="s2">&quot;A&quot;</span><span class="s1">])</span><span class="s0">, </span><span class="s3">1</span><span class="s0">, </span><span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,  </span><span class="s4"># revrse the cols</span>
        <span class="s1">(Series([</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s0">, </span><span class="s3">3</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s2">&quot;Y&quot;</span><span class="s0">, </span><span class="s2">&quot;Z&quot;</span><span class="s1">])</span><span class="s0">, </span><span class="s3">0</span><span class="s0">, </span><span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,  </span><span class="s4"># add idx</span>
        <span class="s1">(Series([</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s0">, </span><span class="s3">3</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;A&quot;</span><span class="s0">, </span><span class="s2">&quot;B&quot;</span><span class="s0">, </span><span class="s2">&quot;C&quot;</span><span class="s1">])</span><span class="s0">, </span><span class="s3">1</span><span class="s0">, </span><span class="s1">[[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]])</span><span class="s0">,  </span><span class="s4"># add col</span>
    <span class="s1">]</span><span class="s0">,</span>
<span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_background_gradient_gmap_series_align(styler_blank</span><span class="s0">, </span><span class="s1">gmap</span><span class="s0">, </span><span class="s1">axis</span><span class="s0">, </span><span class="s1">exp_gmap):</span>
    <span class="s4"># test gmap given as Series that it aligns to the the data including subset</span>
    <span class="s1">expected = styler_blank.background_gradient(axis=</span><span class="s0">None, </span><span class="s1">gmap=exp_gmap)._compute()</span>
    <span class="s1">result = styler_blank.background_gradient(axis=axis</span><span class="s0">, </span><span class="s1">gmap=gmap)._compute()</span>
    <span class="s0">assert </span><span class="s1">expected.ctx == result.ctx</span>


<span class="s1">@pytest.mark.parametrize(</span>
    <span class="s2">&quot;gmap, axis&quot;</span><span class="s0">,</span>
    <span class="s1">[</span>
        <span class="s1">(DataFrame([[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;A&quot;</span><span class="s0">, </span><span class="s2">&quot;B&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s2">&quot;Y&quot;</span><span class="s1">])</span><span class="s0">, </span><span class="s3">1</span><span class="s1">)</span><span class="s0">,</span>
        <span class="s1">(DataFrame([[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">2</span><span class="s0">, </span><span class="s3">1</span><span class="s1">]]</span><span class="s0">, </span><span class="s1">columns=[</span><span class="s2">&quot;A&quot;</span><span class="s0">, </span><span class="s2">&quot;B&quot;</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s2">&quot;Y&quot;</span><span class="s1">])</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)</span><span class="s0">,</span>
    <span class="s1">]</span><span class="s0">,</span>
<span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_background_gradient_gmap_wrong_dataframe(styler_blank</span><span class="s0">, </span><span class="s1">gmap</span><span class="s0">, </span><span class="s1">axis):</span>
    <span class="s4"># test giving a gmap in DataFrame but with wrong axis</span>
    <span class="s1">msg = </span><span class="s2">&quot;'gmap' is a DataFrame but underlying data for operations is a Series&quot;</span>
    <span class="s0">with </span><span class="s1">pytest.raises(ValueError</span><span class="s0">, </span><span class="s1">match=msg):</span>
        <span class="s1">styler_blank.background_gradient(gmap=gmap</span><span class="s0">, </span><span class="s1">axis=axis)._compute()</span>


<span class="s0">def </span><span class="s1">test_background_gradient_gmap_wrong_series(styler_blank):</span>
    <span class="s4"># test giving a gmap in Series form but with wrong axis</span>
    <span class="s1">msg = </span><span class="s2">&quot;'gmap' is a Series but underlying data for operations is a DataFrame&quot;</span>
    <span class="s1">gmap = Series([</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">index=[</span><span class="s2">&quot;X&quot;</span><span class="s0">, </span><span class="s2">&quot;Y&quot;</span><span class="s1">])</span>
    <span class="s0">with </span><span class="s1">pytest.raises(ValueError</span><span class="s0">, </span><span class="s1">match=msg):</span>
        <span class="s1">styler_blank.background_gradient(gmap=gmap</span><span class="s0">, </span><span class="s1">axis=</span><span class="s0">None</span><span class="s1">)._compute()</span>


<span class="s1">@pytest.mark.parametrize(</span><span class="s2">&quot;cmap&quot;</span><span class="s0">, </span><span class="s1">[</span><span class="s2">&quot;PuBu&quot;</span><span class="s0">, </span><span class="s1">mpl.cm.get_cmap(</span><span class="s2">&quot;PuBu&quot;</span><span class="s1">)])</span>
<span class="s0">def </span><span class="s1">test_bar_colormap(cmap):</span>
    <span class="s1">data = DataFrame([[</span><span class="s3">1</span><span class="s0">, </span><span class="s3">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">3</span><span class="s0">, </span><span class="s3">4</span><span class="s1">]])</span>
    <span class="s1">ctx = data.style.bar(cmap=cmap</span><span class="s0">, </span><span class="s1">axis=</span><span class="s0">None</span><span class="s1">)._compute().ctx</span>
    <span class="s1">pubu_colors = {</span>
        <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): </span><span class="s2">&quot;#d0d1e6&quot;</span><span class="s0">,</span>
        <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">0</span><span class="s1">): </span><span class="s2">&quot;#056faf&quot;</span><span class="s0">,</span>
        <span class="s1">(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): </span><span class="s2">&quot;#73a9cf&quot;</span><span class="s0">,</span>
        <span class="s1">(</span><span class="s3">1</span><span class="s0">, </span><span class="s3">1</span><span class="s1">): </span><span class="s2">&quot;#023858&quot;</span><span class="s0">,</span>
    <span class="s1">}</span>
    <span class="s0">for </span><span class="s1">k</span><span class="s0">, </span><span class="s1">v </span><span class="s0">in </span><span class="s1">pubu_colors.items():</span>
        <span class="s0">assert </span><span class="s1">v </span><span class="s0">in </span><span class="s1">ctx[k][</span><span class="s3">1</span><span class="s1">][</span><span class="s3">1</span><span class="s1">]</span>


<span class="s0">def </span><span class="s1">test_bar_color_raises(df):</span>
    <span class="s1">msg = </span><span class="s2">&quot;`color` must be string or list or tuple of 2 strings&quot;</span>
    <span class="s0">with </span><span class="s1">pytest.raises(ValueError</span><span class="s0">, </span><span class="s1">match=msg):</span>
        <span class="s1">df.style.bar(color={</span><span class="s2">&quot;a&quot;</span><span class="s0">, </span><span class="s2">&quot;b&quot;</span><span class="s1">}).to_html()</span>
    <span class="s0">with </span><span class="s1">pytest.raises(ValueError</span><span class="s0">, </span><span class="s1">match=msg):</span>
        <span class="s1">df.style.bar(color=[</span><span class="s2">&quot;a&quot;</span><span class="s0">, </span><span class="s2">&quot;b&quot;</span><span class="s0">, </span><span class="s2">&quot;c&quot;</span><span class="s1">]).to_html()</span>

    <span class="s1">msg = </span><span class="s2">&quot;`color` and `cmap` cannot both be given&quot;</span>
    <span class="s0">with </span><span class="s1">pytest.raises(ValueError</span><span class="s0">, </span><span class="s1">match=msg):</span>
        <span class="s1">df.style.bar(color=</span><span class="s2">&quot;something&quot;</span><span class="s0">, </span><span class="s1">cmap=</span><span class="s2">&quot;something else&quot;</span><span class="s1">).to_html()</span>
</pre>
</body>
</html>